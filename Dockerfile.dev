# Development Dockerfile with hot-reload
FROM node:20-alpine

WORKDIR /app

# Install dependencies
COPY package*.json ./
RUN npm ci --legacy-peer-deps

# Copy source (will be overwritten by volume mount)
COPY tsconfig.json ./
COPY src ./src

# Run with tsx watch for hot-reloading
CMD ["npx", "tsx", "watch", "src/index.ts"]
